(function($) {
      
 
  // Define the hello button
  $.cleditor.buttons.hello = {
    name: "hello",
    image: "hello.gif",
    title: "Hello World",
    command: "inserthtml",
    popupName: "hello",
    popupClass: "cleditorPrompt",
    popupContent: "Enter your name:<br><input type=text size=10><br><input type=button value=Submit>",
    buttonClick: helloClick
  };
      
 
  // Add the button to the default controls before the bold button
  $.cleditor.defaultOptions.controls = $.cleditor.defaultOptions.controls
    .replace("bold", "hello bold");
      
 
  // Handle the hello button click event
  function helloClick(e, data) {
      
 
    // Wire up the submit button click event
    $(data.popup).children(":button")
      .unbind("click")
      .bind("click", function(e) {
      
 
        // Get the editor
        var editor = data.editor;
      
 
        // Get the entered name
        var name = $(data.popup).find(":text").val();
      
 
        // Insert some html into the document
        var html = "Hello " + name;
        editor.execCommand(data.command, html, null, data.button);
      
 
        // Hide the popup and set focus back to the editor
        editor.hidePopups();
        editor.focus();
      
 
      });
      
 
  }
      
 
})(jQuery);